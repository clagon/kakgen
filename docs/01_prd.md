# **家計簿アプリ 製品要求仕様書 (PRD)**

## **1\. はじめに**

### **1.1. プロジェクト概要**

本ドキュメントは、Nuxt.jsとGo/Echoを使用して開発する「シンプル家計簿アプリ」の製品要求仕様を定義するものである。このアプリは、ユーザーが日々の収支を手軽に記録し、可視化することで、資産管理をサポートすることを目的とする。

### **1.2. 目的とゴール**

* **目的**: 誰でも直感的に使えるシンプルな操作で、日々の収支管理を習慣化できるようにする。  
* **ゴール**:  
  * 最低限のステップで収支入力が完了する。  
  * カレンダーとグラフによって、お金の流れを視覚的に把握できる。  
  * ユーザーが自身の消費傾向を理解し、節約や資産計画に役立てられる。

### **1.3. 対象ユーザー**

* 初めて家計簿をつける人  
* これまで他の家計簿アプリで挫折した経験がある人  
* 複雑な機能は不要で、シンプルに収支だけを管理したい人

### **1.4. 用語定義**

| 用語 | 説明 |
| :---- | :---- |
| 収支 | 収入と支出の総称 |
| 明細 | 1回の支払いや受け取りの単位（レシート1枚分など）。複数の「項目」で構成される。 |
| 項目 | 明細を構成する個別の取引記録。カテゴリ、金額、メモを持つ。 |
| カテゴリ | 収支を分類するための項目（例：食費、交通費、給与） |

## **2\. システム構成**

### **2.1. フロントエンド**

* **フレームワーク**: Nuxt.js  
* **役割**: UIの描画、ユーザーからの入力受付、バックエンドAPIとの通信を担当する。レスポンシブデザインとし、スマートフォンとPCの両方で快適に利用できることを目指す。

### **2.2. バックエンド**

* **言語/フレームワーク**: Go / Echo  
* **役割**: フロントエンドからのリクエストに基づき、ビジネスロジックを実行し、データベースとのやり取りを行う。RESTful APIを提供する。

### **2.3. データベース**

* **種類**: SQLite または PostgreSQL  
  * （開発初期段階では手軽なSQLiteを推奨。本番運用や機能拡張を見据える場合はPostgreSQLを検討）  
* **役割**: ユーザーの取引データ、カテゴリ設定などを永続的に保存する。

## **3\. 機能要件**

### **3.1. 共通機能**

#### **3.1.1. 画面遷移（ナビゲーション）**

* 画面下部にナビゲーションバーを常に表示し、「入力」「カレンダー」「統計」「設定」の4つのメイン画面へいつでも遷移できるようにする。

### **3.2. 収支入力画面**

#### **3.2.1. 概要**

* 日々の収入と支出を、レシートなどの明細単位で記録するためのメイン画面。

#### **3.2.2. UI要素**

1. **明細ヘッダー部**:  
   * **収支切替タブ**: 「支出」「収入」を選択する。明細全体に適用される。  
   * **日付入力**: 明細の日付を選択する。（デフォルトは当日）  
   * **明細メモ (任意)**: 明細全体に関するメモ（店名など）をテキストで入力する。  
2. **項目入力部**:  
   * **項目リスト**: 複数の項目を入力できるリスト形式。  
   * 各項目が持つ要素:  
     * **カテゴリ選択**: ドロップダウンや一覧から項目ごとのカテゴリを選択する。  
     * **金額入力**: 項目ごとの金額を数値で入力する。  
     * **項目メモ (任意)**: 項目ごとのメモをテキストで入力する。  
     * **削除ボタン**: その項目をリストから削除する。  
   * **項目追加ボタン**: 新しい空の項目入力欄をリストの末尾に追加する。  
3. **明細フッター部**:  
   * **合計金額**: 全項目の合計金額を自動で計算して表示する。  
   * **登録ボタン**: 入力内容（明細全体）を保存する。  
4. **当日明細一覧**: 画面下部に、当日登録された明細の一覧を表示する。一覧からは編集・削除が可能。

#### **3.2.3. 機能詳細**

* **入力**: ユーザーは「項目追加ボタン」で自由に行を増やして入力できる。登録ボタンは、日付が設定され、かつ1つ以上の項目でカテゴリと金額が入力されるとアクティブになる。  
* **保存**: 登録ボタンを押すと、明細ヘッダー情報と、そこに含まれる全項目の情報が一つの単位としてバックエンドに送信され、データベースに保存される。  
* **編集/削除**: 当日明細一覧から特定の明細を選択すると、編集画面に遷移する。編集画面では、明細ヘッダーや各項目の内容を自由に変更・追加・削除できる。明細全体の削除も可能。

### **3.3. カレンダー画面**

#### **3.3.1. 概要**

* 月単位で収支をカレンダー形式で確認できる画面。

#### **3.3.2. UI要素**

1. **年月セレクター**: 表示する月を切り替える。（例: \< 2025年 7月 \>）  
2. **月間カレンダー**:  
   * 各日付のマスに、その日の合計支出額（または収支差額）を小さく表示する。  
   * 収入があった日、支出があった日がわかるようにアイコンなどで印をつける。  
3. **日次明細一覧**: カレンダーの日付をタップすると、その日の明細一覧が画面下部やポップアップで表示される。  
4. **月間サマリー**: カレンダーの上部または下部に、表示月の合計収入、合計支出、収支差額を表示する。

#### **3.3.3. 機能詳細**

* **データ表示**: 画面表示時に、選択されている月の取引データをバックエンドから取得し、カレンダーとサマリーに反映する。  
* **詳細表示**: 日付タップで、その日の全明細（明細メモ、合計金額など）を一覧表示する。一覧から明細の編集・削除画面へ遷移できる。

### **3.4. 統計画面**

#### **3.4.1. 概要**

* 収支データをグラフで可視化し、消費傾向を分析するための画面。

#### **3.4.2. UI要素**

1. **期間切替タブ**: 「月単位」「年単位」で表示を切り替える。  
2. **期間セレクター**: 分析対象の期間（年月）を選択する。  
3. **支出カテゴリ円グラフ**:  
   * 指定期間の支出を**項目ごと**のカテゴリで集計し、円グラフで割合を表示する。  
   * 各カテゴリの名称と金額、割合も表示する。  
4. **収支推移グラフ**:  
   * 指定期間（月単位なら過去6ヶ月、年単位なら過去5年など）の月ごとの総収入と総支出を棒グラフまたは折れ線グラフで表示する。

#### **3.4.3. 機能詳細**

* **データ集計**: 表示期間が変更されるたびに、バックエンドにデータ集計をリクエストし、結果をグラフに描画する。集計は個別の項目データを元に行う。  
* **インタラクティブ性**: グラフの各要素（円グラフの扇、棒グラフの棒など）をタップすると、詳細な金額や内訳をポップアップで表示する（任意機能）。

### **3.5. 設定画面**

#### **3.5.1. 概要**

* アプリケーションの動作をカスタマイズするための画面。

#### **3.5.2. UI要素**

1. **カテゴリ設定**:  
   * 「収入カテゴリ設定」「支出カテゴリ設定」への導線。  
   * 各カテゴリの一覧が表示され、追加・編集・削除ができる。  
   * カテゴリには名称と、識別のためのアイコンを設定できる（任意機能）。  
2. **データ管理 (任意)**:  
   * データのバックアップ（エクスポート）。  
   * データの復元（インポート）。  
3. **その他**:  
   * アプリアイコン、バージョン情報。

#### **3.5.3. 機能詳細**

* **カテゴリ管理 (CRUD)**:  
  * **追加(Create)**: 新しいカテゴリ名を入力して保存する。  
  * **一覧表示(Read)**: 登録済みのカテゴリを一覧で表示する。並び替えも可能。  
  * **編集(Update)**: 既存のカテゴリ名を変更する。  
  * **削除(Delete)**: 既存のカテゴリを削除する。そのカテゴリに紐づく項目がある場合の扱いは要検討（例：削除不可、または「未分類」カテゴリに付け替える）。

## **4\. 非機能要件**

| 項目 | 要件 |
| :---- | :---- |
| **パフォーマンス** | ・各画面の表示、データ更新は2秒以内に完了すること。\<br\>・APIのレスポンスタイムは平均500ms以下を目指す。 |
| **セキュリティ** | ・パスワードなどの機密情報は適切にハッシュ化して保存する。\<br\>・APIエンドポイントには適切な認証・認可を設ける。（将来的なユーザー認証機能導入時） |
| **ユーザビリティ** | ・UIは一貫性があり、直感的に操作できること。\<br\>・主要な操作（入力など）は3タップ以内で完了できることを目指す。 |
| **メンテナンス性** | ・フロントエンド、バックエンド共にコンポーネント化、モジュール化を意識した設計とし、機能追加や改修を容易にする。 |

## **5\. 今後の展望（拡張機能案）**

* ユーザー認証機能（複数人でのデータ共有）  
* 繰り返し取引の自動登録機能（毎月の家賃など）  
* 予算設定機能と達成度通知  
* レシートOCRによる自動入力機能  
* 複数アカウント（財布、銀行口座など）の管理機能  
* テーマカラーのカスタマイズ